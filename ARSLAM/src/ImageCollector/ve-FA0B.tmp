#include "ImageCollector/FrameReader.h"
#include <iostream>

void FrameReader::readFrame()
{
	IplImage* temp = cvQueryFrame(inDevice_);
	if(NULL == temp)
	{// this doesn't help here. last grabbed frame is returned
		// think of another way of dealing with this
		// ideally throw an exception here
		assert(0 && "I am Blind!!!! Capture Device Not Available!");
	}
	if(!drop_ && bufPtr_ == buffer_.end())
		drop_ = true;
	*bufPtr_ = cvCloneImage(temp);
}

IplImage* FrameReader::getLastFrame()
{	
	return buffer_[bufPtr_];
}